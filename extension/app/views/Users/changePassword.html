#{extends 'Secure/layout.html' /}

<div class="container login">
	
	<div class="col-xs-12 col-md-4 col-md-offset-4 col-xs-offset-0">
		<h1>&{'changePassword.message'}</h1>
			
		#{form @updatePassword(), role:'form'}
			
			#{if flash.error}
				<p class="error">
					&{flash.error}
				</p>
			#{/if}
			#{if flash.success}
				<p class="success">
					&{flash.success}
				</p>
			#{/if}
			<input type="hidden" name="id" value="${user ? user.id : id}" />
			<div class="form-group">
				#{field 'password'}
				<label for="${field.id}">&{'secure.password'}</label>
				<input type="password" class="form-control" name="${field.name}" id="${field.id}" value="" placeholder="&{'password'}"/>
				#{ifError field.name}
			        <span class="error">${field.error.raw()}</span>
			    #{/ifError}
			    #{/field}
			</div>
			<div class="form-group">
				#{field 'confirmPassword'}
				<label for="${field.id}">&{field.name}</label>
				<input type="password" class="form-control" name="${field.name}" id="${field.id}" value="" placeholder="&{field.name}"/>
				#{ifError field.name}
			        <span class="error">${field.error.raw()}</span>
			    #{/ifError}
			    #{/field}
			</div>
			<input type="submit" class="btn btn-primary" id="signin" value="&{'secure.signin'}" />
		#{/form}
	</div>
</div>